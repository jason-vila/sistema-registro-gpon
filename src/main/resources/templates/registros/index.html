<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layoutBase('registros', 'Listado', ~{::contenido})}">

<th:block th:fragment="contenido">
    <div class="row">
        <div class="col-12">
            <div class="card mb-4">
                <div class="card-header pb-0 d-flex justify-content-between align-items-center">
                    <h5>
                        <i class="fa-solid fa-gift me-1"></i>
                        Tabla RUC10
                    </h5>
                    <a th:href="@{/registros/nuevo}" class="btn btn-primary btn-sm mb-0">
                        <i class="fas fa-plus me-1"></i>
                        Nueva
                    </a>
                </div>
                <div class="card-body px-4 pt-0 pb-2"> <!-- AQUI se agrega px-4 para espacio lateral -->
                    <div class="table-responsive p-0">
                        <table class="table align-items-center mb-0 text-center"> <!-- AQUI text-center -->
                            <thead>
                            <tr>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">ID</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Consultor</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Supervisor</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Cliente</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Plan</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Promoción</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Estado</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">IdSolicitud</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">IdInstalacion</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">IdCarrito</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Observación</th>
                                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Acciones</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="x : ${listaruc}">
                                <td><p class="text-sm text-dark mb-0" th:text="${x.idRegistro}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.usuarioConsulto.nombre}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.usuarioSupervisor.nombre + ' ' + x.usuarioSupervisor.apellido}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.cliente.nombre + ' ' + x.cliente.apellido}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.plan.descripcion}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.promocion.descripcion}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.estado.descripcion}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.idSolicitud}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.idInstalacion}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.idCarrito}"></p></td>
                                <td><p class="text-sm text-dark mb-0" th:text="${x.observacion}"></p></td>
                                <td>
                                    <a class="btn btn-sm btn-primary me-1 mb-0" title="Editar">
                                        <i class="fa-solid fa-pen"></i>
                                    </a>
                                    <a class="btn btn-sm btn-danger me-1 mb-0" title="Eliminar"
                                       onclick="return confirm('¿Seguro que quieres eliminar este registro?');">
                                        <i class="fas fa-trash-alt"></i>
                                    </a>
                                    <a class="btn btn-sm btn-info me-1 mb-0" title="Ver Cronograma">
                                        <i class="fa-solid fa-calendar-days"></i>
                                    </a>
                                    <a class="btn btn-sm btn-secondary me-1 mb-0" title="Ver DNI Cliente">
                                        <i class="fa-solid fa-id-card"></i>
                                    </a>
                                    <a class="btn btn-sm btn-warning me-1 mb-0" title="Contacto Principal">
                                        <i class="fa-solid fa-user"></i>
                                    </a>
                                    <a class="btn btn-sm btn-warning mb-0" title="Contacto Secundario">
                                        <i class="fa-solid fa-user-pen"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr th:if="${#lists.isEmpty(listaruc)}">
                                <td colspan="12" class="text-center text-muted py-4">
                                    No hay registros disponibles.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</th:block>

<div th:if="${alert}">
    <div th:utext="${alert}"></div>
</div>

</html>
