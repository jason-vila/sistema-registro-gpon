<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout :: layoutBase('Registro RUC10', 'Nuevo', ~{::contenido})">
<th:block th:fragment="contenido">
    <div class="card shadow-sm p-4">
        <h5 class="mb-4">
            <i class="fa-solid fa-id-card me-1"></i>
            Registrar RUC10
        </h5>
        <form id="multiStepForm">
            <!-- Paso 1 -->
            <div class="form-step active">
                <div class="mb-3">
                    <label for="nombre" class="form-label">
                        Nombre(s)
                        <span class="text-danger">*</span>
                    </label>
                    <input type="text" class="form-control" id="nombre" placeholder="Ingrese un(os) nombre(s)" required />
                </div>

                <div class="mb-3">
                    <label for="email" class="form-label">
                        Correo electrónico
                        <span class="text-danger">*</span>
                    </label>
                    <input type="email" class="form-control" id="email" placeholder="Ingrese un correo electrónico" required />
                </div>

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-primary next-step mb-0">
                        Siguiente
                        <i class="fas fa-arrow-right ms-1"></i>
                    </button>
                </div>
            </div>

            <!-- Paso 2 -->
            <div class="form-step">
                <div class="mb-3">
                    <label for="telefono" class="form-label">
                        Teléfono
                        <span class="text-danger">*</span>
                    </label>
                    <input type="tel" class="form-control" id="telefono" placeholder="Ingrese un teléfono" required />
                </div>

                <div class="mb-3">
                    <label for="direccion" class="form-label">
                        Dirección
                        <span class="text-danger">*</span>
                    </label>
                    <input type="text" class="form-control" id="direccion" placeholder="Ingrese una dirección"  required />
                </div>

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-secondary prev-step me-1 mb-0">
                        <i class="fas fa-arrow-left me-1"></i>
                        Anterior
                    </button>
                    <button type="button" class="btn btn-primary next-step mb-0">
                        Siguiente
                        <i class="fas fa-arrow-right ms-1"></i>
                    </button>
                </div>
            </div>

            <!-- Paso 3 -->
            <div class="form-step">
                <div class="mb-3">
                    <label for="mensaje" class="form-label">Mensaje adicional</label>
                    <textarea class="form-control" id="mensaje" rows="4" placeholder="Escriba aquí un mensaje adicional..."></textarea>
                </div>

                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-secondary prev-step me-1 mb-0">
                        <i class="fas fa-arrow-left me-1"></i>
                        Anterior
                    </button>
                    <button type="submit" class="btn btn-primary mb-0">
                        <i class="fas fa-paper-plane me-1"></i>
                        Enviar
                    </button>
                </div>
            </div>
        </form>
    </div>

    <script>
        const steps = document.querySelectorAll(".form-step");
        let currentStep = 0;

        document.querySelectorAll(".next-step").forEach((btn) => {
          btn.addEventListener("click", () => {
            if (validarPaso(currentStep)) {
              steps[currentStep].classList.remove("active");
              currentStep++;
              steps[currentStep].classList.add("active");
            }
          });
        });

        document.querySelectorAll(".prev-step").forEach((btn) => {
          btn.addEventListener("click", () => {
            steps[currentStep].classList.remove("active");
            currentStep--;
            steps[currentStep].classList.add("active");
          });
        });

        document
          .getElementById("multiStepForm")
          .addEventListener("submit", function (e) {
            e.preventDefault();
            alert("Formulario enviado correctamente 🎉");
            this.reset();
            steps[currentStep].classList.remove("active");
            currentStep = 0;
            steps[currentStep].classList.add("active");
          });

        function validarPaso(paso) {
          const inputs = steps[paso].querySelectorAll("input, textarea");
          for (let input of inputs) {
            if (!input.checkValidity()) {
              input.classList.add("is-invalid");
              return false;
            } else {
              input.classList.remove("is-invalid");
            }
          }
          return true;
        }
    </script>
</th:block>
</html>
